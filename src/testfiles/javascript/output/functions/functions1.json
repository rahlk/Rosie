{"js.functions":{"subs":[{"js.function":{"subs":[{"js.function_name":{"pos":10,"text":"codebotBootstrap"}},{"js.parameters":{"subs":[{"js.single_param":{"pos":27,"text":"theAppConfig"}}],"pos":26,"text":"(theAppConfig)"}}],"pos":1,"text":"function codebotBootstrap(theAppConfig)"}},{"js.function":{"subs":[{"js.function_name":{"pos":1303,"text":""}},{"js.parameters":{"pos":1303,"text":"()"}}],"pos":1295,"text":"function()"}},{"js.function":{"subs":[{"js.function_name":{"pos":1354,"text":""}},{"js.parameters":{"subs":[{"js.single_param":{"pos":1355,"text":"theData"}}],"pos":1354,"text":"(theData)"}}],"pos":1346,"text":"function(theData)"}},{"js.function":{"subs":[{"js.function_name":{"pos":1600,"text":""}},{"js.parameters":{"subs":[{"js.single_param":{"pos":1601,"text":"theJqxhr"}},{"js.single_param":{"pos":1611,"text":"theTextStatus"}},{"js.single_param":{"pos":1626,"text":"theError"}}],"pos":1600,"text":"(theJqxhr, theTextStatus, theError)"}}],"pos":1592,"text":"function(theJqxhr, theTextStatus, theError)"}}],"pos":1,"text":"function codebotBootstrap(theAppConfig) {\n    var aIsNodeWebkit, aIsChromeApp;\n\n    console.log('CODEBOT [bootstrap] App configuration file (app.json):', theAppConfig);\n\n    if(theAppConfig && theAppConfig.bootstrap) {\n        \/\/ App config file tells us to use a custom-made bootstrapper.\n        \/\/ So be it!\n        console.log('CODEBOT [bootstrap] Firing up custom bootstrapper: ' + theAppConfig.bootstrap);\n        $('body').append('<script type=\"text\/javascript\" src=\"'+theAppConfig.bootstrap+'\"><\/script>');\n\n    } else {\n        aIsNodeWebkit = 'require' in window;\n        aIsChromeApp  = false; \/\/ TODO: check it correctly.\n\n        if(aIsNodeWebkit) {\n            console.log('CODEBOT [bootstrap] Node-webkit app.');\n            $('body').append('<script type=\"text\/javascript\" src=\".\/js\/node-webkit\/codebot.bootstrap.nw.js\"><\/script>');\n\n        } else if(aIsChromeApp) {\n            console.log('CODEBOT [bootstrap] Chrome Packaged App.');\n\n        } else {\n            \/\/ It's running in the browser.\n            console.log('CODEBOT [bootstrap] Browser app');\n            $('body').append('<script type=\"text\/javascript\" src=\".\/js\/web\/codebot.bootstrap.web.js\"><\/script>');\n        }\n    }\n}\n\n\/\/ Wait until the DOM is ready, then starts loading\n\/\/ the app configuration file.\n\n$(function() {\n    $.getJSON('.\/app.json')\n    .done(function(theData) {\n        if(theData.codebot) {\n            codebotBootstrap(theData.codebot);\n\n        } else {\n            console.error('Codebot app.json file has no \"codebot\" property. E.g. {\"codebot\": {...}}.');\n        }\n    })\n    .fail(function(theJqxhr, theTextStatus, theError) {\n        if(theJqxhr.status == 404) {\n            codebotBootstrap(null);\n\n        } else {\n            \/\/ Probably a syntax error.\n            console.error('Codebot app.json file has a sintax error:', theTextStatus, theError);\n        }\n    });\n});"}}
